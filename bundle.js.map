{"version":3,"sources":["webpack:///webpack/bootstrap dec89225559b44ef57ac","webpack:///./lib/colored_diffusion.js","webpack:///./lib/sim_view.js","webpack:///./lib/simulation.js","webpack:///./lib/water_mol.js","webpack:///./lib/util.js","webpack:///./lib/mol.js"],"names":["document","addEventListener","canvas","getElementById","ctx","getContext","simulation","start","SimView","setInterval","movement","Math","floor","draw","moveObjects","checkCollisions","Sim","DIM_X","DIM_Y","NUM_MOLECULES","waterMols","length","newMol","addWater","i","isCollidedWith","pop","waterMol","push","clearRect","forEach","mol","move","j","mol1","mol2","separateObjects","handleElasticCollision","COLORS","random","toString","RADIUS","VELOCITY","WaterMol","options","color","radius","pos","vel","Util","newVel","r1","r2","v1","v2","mass1","PI","mass2","dist","x1","x2","y1","y2","sqrt","pow","Mol","fillStyle","beginPath","arc","fill","other","thisOldX","thisOldY","otherOldX","otherOldY","distBetween","overlapDist","dx","dy"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dec89225559b44ef57ac","import SimView from './sim_view';\nimport Sim from './simulation';\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  let canvas = document.getElementById('canvas');\n  let ctx = canvas.getContext('2d');\n\n  let simulation = new SimView(new Sim(), ctx);\n  simulation.start();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/colored_diffusion.js","\nclass SimView {\n  constructor(simulation, ctx) {\n    this.simulation = simulation;\n    this.ctx = ctx;\n  }\n\n  start() {\n    setInterval( () => this.movement(), Math.floor(1000/60));\n    setInterval( () => this.simulation.draw(this.ctx), Math.floor(1000/60));\n  }\n\n  movement() {\n    this.simulation.moveObjects();\n    this.simulation.checkCollisions();\n  }\n}\n\nexport default SimView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sim_view.js","import WaterMol from './water_mol';\n\nclass Sim {\n\n  constructor(DIM_X = 1000, DIM_Y = 1000, NUM_MOLECULES = 2000 ) {\n    this.DIM_X = DIM_X;\n    this.DIM_Y = DIM_Y;\n    this.waterMols = [];\n\n    while(this.waterMols.length < NUM_MOLECULES) {\n      let newMol = this.addWater();\n      for (let i = 0; i < this.waterMols.length - 1; i++) {\n        if (newMol.isCollidedWith(this.waterMols[i])) {\n          this.waterMols.pop();\n        }\n      }\n    }\n\n  }\n\n  addWater() {\n    let waterMol = new WaterMol();\n    this.waterMols.push(waterMol);\n    return waterMol;\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0,0,1000,1000);\n    this.waterMols.forEach( mol => mol.draw(ctx));\n  }\n\n  moveObjects() {\n    this.waterMols.forEach( mol => mol.move());\n  }\n\n  checkCollisions() {\n    for (let i = 0; i < this.waterMols.length - 1; i++) {\n      for (let j = i+1; j < this.waterMols.length; j++) {\n        let mol1 = this.waterMols[i];\n        let mol2 = this.waterMols[j];\n        if (mol1.isCollidedWith(mol2)) {\n          mol1.separateObjects(mol2);\n          mol1.handleElasticCollision(mol2);\n        }\n      }\n    }\n  }\n\n}\n\nexport default Sim;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/simulation.js","import Util from './util';\nimport Mol from './mol';\n\nconst COLORS = () => {\n  return '#'+Math.floor(Math.random()*16777215).toString(16);\n}\n\nconst RADIUS = () => {\n  return 5;\n}\n\nconst VELOCITY = 1;\n\nclass WaterMol extends Mol {\n  constructor(options = {}) {\n    options.color = '#D3D3D3';\n    options.radius = RADIUS();\n    options.pos = [\n      Math.floor(Math.random() * 1000),\n      Math.floor(Math.random() * 1000)\n    ];\n    options.vel = [\n      (Math.random() - 0.5) * VELOCITY,\n      (Math.random() - 0.5) * VELOCITY\n    ]\n    super(options);\n  }\n}\n\nexport default WaterMol;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/water_mol.js","const Util = {\n\n  newVel (r1, r2, v1, v2) {\n    let mass1 = r1 * r1 * Math.PI;\n    let mass2 = r2 * r2 * Math.PI;\n    return (v1 * (mass1 - mass2) + (2 * mass2 * v2)) / (mass1 + mass2);\n  },\n\n  dist(x1, x2, y1, y2) {\n    return Math.sqrt(Math.pow((x2 - x1), 2) + Math.pow((y2 - y1), 2));\n  }\n\n\n}\n\nexport default Util;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","import Util from './util';\n\nclass Mol {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.color = options.color;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n\n    ctx.arc(\n      this.pos[0],\n      this.pos[1],\n      this.radius,\n      0,\n      2 * Math.PI,\n      false\n    );\n    ctx.fill();\n  }\n\n  move() {\n    this.pos[0] = (this.pos[0] + this.vel[0]) % 1000;\n    this.pos[0] < 0 ? this.pos[0] += 1000 : this.pos[0] ;\n    this.pos[1] = (this.pos[1] + this.vel[1]) % 1000;\n    this.pos[1] < 0 ? this.pos[1] += 1000 : this.pos[1];\n  }\n\n  isCollidedWith(other) {\n    let x1 = this.pos[0];\n    let y1 = this.pos[1];\n    let x2 = other.pos[0];\n    let y2 = other.pos[1];\n    let dist = Util.dist(x1, x2, y1, y2);\n    let r1 = this.radius;\n    let r2 = other.radius;\n    return dist <= (r1 + r2);\n  }\n\n  handleElasticCollision(other) {\n    let thisOldX = this.vel[0];\n    let thisOldY = this.vel[1];\n    let otherOldX = this.vel[0];\n    let otherOldY = this.vel[1];\n    this.vel[0] = Util.newVel(this.radius, other.radius, thisOldX, otherOldX);\n    this.vel[1] = Util.newVel(this.radius, other.radius, thisOldY, otherOldY);\n    other.vel[0] = Util.newVel(other.radius, this.radius, otherOldX, thisOldX);\n    other.vel[1] = Util.newVel(other.radius, this.radius, otherOldY, thisOldY);\n  }\n\n  separateObjects(other) {\n    let x1 = this.pos[0];\n    let y1 = this.pos[1];\n    let x2 = other.pos[0];\n    let y2 = other.pos[1];\n    let distBetween = Util.dist(x1, x2, y1, y2);\n    let r1 = this.radius;\n    let r2 = other.radius;\n    let overlapDist = r1 + r2 - distBetween;\n    let dx = (x2 - x1) / overlapDist ;\n    let dy = (y2 - y1) / overlapDist ;\n    this.pos[0] -= (overlapDist/16) * dx;\n    this.pos[1] -= (overlapDist/16) * dy;\n    other.pos[0] += (overlapDist/16) * dx;\n    other.pos[1] += (overlapDist/16) * dy;\n  }\n\n\n}\n\nexport default Mol;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/mol.js"],"sourceRoot":""}