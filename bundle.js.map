{"version":3,"sources":["webpack:///webpack/bootstrap 8c507b1a4c6eec3cff48","webpack:///./lib/colored_diffusion.js","webpack:///./lib/sim_view.js","webpack:///./lib/simulation.js","webpack:///./lib/water_mol.js","webpack:///./lib/util.js","webpack:///./lib/mol.js","webpack:///./lib/color_drop.js","webpack:///./lib/color_drop_mol.js"],"names":["document","addEventListener","canvas","getElementById","ctx","getContext","dropButton","hideButton","resetButton","tempBar","simView","start","addDrop","toggleWater","location","reload","e","preventDefault","newTemp","parseInt","currentTarget","value","handleTempChange","SimView","simulation","setInterval","movement","Math","floor","draw","moveObjects","checkCollisions","Sim","DIM_X","DIM_Y","NUM_MOLECULES","mols","length","newWaterMol","addWater","i","isCollidedWith","pop","waterMol","push","forEach","mol","constructor","name","color","numDrops","newDrop","multiplier","energyRatio","tempMultipler","vel","clearRect","move","j","mol1","mol2","separateObjects","handleElasticCollision","COLORS","random","toString","RADIUS","VELOCITY","WaterMol","options","radius","pos","Util","elasticCollision","r1","r2","v1","v2","mass1","PI","mass2","dist","x1","x2","y1","y2","sqrt","pow","Mol","fillStyle","beginPath","arc","fill","other","dx","dy","col_angle","atan2","magnitude_this","magnitude_other","dir_this","dir_other","new_xvel_this","cos","new_yvel_this","sin","new_xvel_other","new_yvel_other","final_xvel_this","final_xvel_other","final_yvel_this","final_yvel_other","distBetween","overlapDist","ColorDrop","X_POS","colorDrop","createMols","colorDrops","newMol","ColorDropMol"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8c507b1a4c6eec3cff48","import SimView from './sim_view';\nimport Sim from './simulation';\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  let canvas = document.getElementById('canvas');\n  let ctx = canvas.getContext('2d');\n  const dropButton = document.getElementById('drop-btn');\n  const hideButton = document.getElementById('hide-btn');\n  const resetButton = document.getElementById('reset-btn');\n  const tempBar = document.getElementById('range-bar');\n  let simView = new SimView(new Sim(), ctx);\n  simView.start();\n  dropButton.addEventListener('click', () => simView.addDrop());\n  hideButton.addEventListener('click', () => simView.toggleWater());\n  resetButton.addEventListener('click', () => location.reload());\n  tempBar.addEventListener('input', (e) => {\n    e.preventDefault();\n    let newTemp = parseInt(e.currentTarget.value);\n    simView.handleTempChange(newTemp);\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/colored_diffusion.js","\nclass SimView {\n  constructor(simulation, ctx) {\n    this.simulation = simulation;\n    this.ctx = ctx;\n  }\n\n  start() {\n    setInterval( () => this.movement(), Math.floor(1000/30));\n    setInterval( () => this.simulation.draw(this.ctx), Math.floor(1000/30));\n  }\n\n  movement() {\n    this.simulation.moveObjects();\n    this.simulation.checkCollisions();\n  }\n\n  addDrop() {\n    this.simulation.addDrop();\n  }\n\n  toggleWater() {\n    this.simulation.toggleWater();\n  }\n\n  handleTempChange(newTemp) {\n    this.simulation.handleTempChange(newTemp);\n  }\n}\n\nexport default SimView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sim_view.js","import WaterMol from './water_mol';\nimport ColorDrop from './color_drop';\nimport ColorDropMol from './color_drop_mol';\n\nclass Sim {\n\n  constructor(DIM_X = 1000, DIM_Y = 1000, NUM_MOLECULES = 600) {\n    this.DIM_X = DIM_X;\n    this.DIM_Y = DIM_Y;\n    this.mols = [];\n\n    while(this.mols.length < NUM_MOLECULES) {\n      let newWaterMol = this.addWater();\n      for (let i = 0; i < this.mols.length - 1; i++) {\n        if (newWaterMol.isCollidedWith(this.mols[i])) {\n          this.mols.pop();\n        }\n      }\n    }\n\n  }\n\n  addWater() {\n    let waterMol = new WaterMol();\n    this.mols.push(waterMol);\n    return waterMol;\n  }\n\n  toggleWater() {\n    this.mols.forEach(mol => {\n      if (mol.constructor.name == 'WaterMol') {\n        mol.color = mol.color == '#e7fafe' ? '#dae1e2' : '#e7fafe';\n      }\n    })\n  }\n\n  addDrop() {\n    let numDrops = document.getElementById('drop-count').value;\n    if (numDrops > 500) {\n      numDrops = 500;\n    } else if (numDrops < 0) {\n      numDrops = 0;\n    }\n    for (var i = 0; i < numDrops; i++) {\n      let newDrop = new ColorDropMol();\n      this.mols.push(newDrop);\n    }\n    // newDrop.colorDrop.forEach(mol => this.mols.push(mol));\n  }\n\n// Temp ~ K.E. KE = 1/2 * m * v^2\n// v^2 = 2KE/m\n// v = sqrt2KE/m\n  handleTempChange(newTemp) {\n    let multiplier = (1+(newTemp-10) / 25);\n    let energyRatio = multiplier / this.mols[0].tempMultipler;\n    this.mols.forEach(mol => {\n      mol.vel[0] *= energyRatio;\n      mol.vel[1] *= energyRatio;\n      mol.tempMultipler = multiplier;\n    })\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0,0,1000,1000);\n    this.mols.forEach( mol => mol.draw(ctx));\n  }\n\n  moveObjects() {\n    this.mols.forEach( mol => mol.move());\n  }\n\n  checkCollisions() {\n    for (let i = 0; i < this.mols.length - 1; i++) {\n      for (let j = i+1; j < this.mols.length; j++) {\n        let mol1 = this.mols[i];\n        let mol2 = this.mols[j];\n        if (mol1.isCollidedWith(mol2)) {\n          mol1.separateObjects(mol2);\n          mol1.handleElasticCollision(mol2);\n        }\n      }\n    }\n  }\n\n}\n\nexport default Sim;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/simulation.js","import Util from './util';\nimport Mol from './mol';\n\nconst COLORS = () => {\n  return '#'+Math.floor(Math.random()*16777215).toString(16);\n}\n\nconst RADIUS = () => {\n  return 3;\n}\n\nconst VELOCITY = 1;\n\nclass WaterMol extends Mol {\n  constructor(options = {}) {\n    options.color = '#e7fafe';\n    options.radius = RADIUS();\n    options.pos = [\n      Math.floor(Math.random() * 500),\n      Math.floor(Math.random() * 500)\n    ];\n    options.vel = [\n      (Math.random() - 0.5) * VELOCITY,\n      (Math.random() - 0.5) * VELOCITY\n    ]\n    super(options);\n  }\n}\n\nexport default WaterMol;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/water_mol.js","const Util = {\n\n  elasticCollision(r1, r2, v1, v2) {\n    let mass1 = r1 * r1 * Math.PI;\n    let mass2 = r2 * r2 * Math.PI;\n    return (v1 * (mass1 - mass2) + (2 * mass2 * v2)) / (mass1 + mass2);\n  },\n\n  dist(x1, x2, y1, y2) {\n    return Math.sqrt(Math.pow((x2 - x1), 2) + Math.pow((y2 - y1), 2));\n  }\n\n\n}\n\nexport default Util;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","import Util from './util';\n\nclass Mol {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.color = options.color;\n    this.tempMultipler = 1;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n\n    ctx.arc(\n      this.pos[0],\n      this.pos[1],\n      this.radius,\n      0,\n      2 * Math.PI,\n      false\n    );\n    ctx.fill();\n  }\n\n  move() {\n    if (this.pos[0] < 5) {\n      this.pos[0] = 5;\n      this.vel[0] *= -1;\n    }\n    if (this.pos[0] > 495) {\n      this.pos[0] = 495;\n      this.vel[0] *= -1;\n    }\n    if (this.pos[1] < 0) {\n      this.pos[1] = 0;\n      this.vel[1] *= -1;\n    }\n    if (this.pos[1] > 495) {\n      this.pos[1] = 495;\n      this.vel[1] *= -1;\n    }\n    this.pos[0] += this.vel[0];\n    this.pos[1] += this.vel[1];\n    // this.pos[0] = (this.pos[0] + this.vel[0]) % 1000;\n    // this.pos[0] < 0 ? this.pos[0] += 1000 : this.pos[0] ;\n    // this.pos[1] = (this.pos[1] + this.vel[1]) % 1000;\n    // this.pos[1] < 0 ? this.pos[1] += 1000 : this.pos[1];\n  }\n\n  isCollidedWith(other) {\n    let x1 = this.pos[0];\n    let y1 = this.pos[1];\n    let x2 = other.pos[0];\n    let y2 = other.pos[1];\n    let dist = Util.dist(x1, x2, y1, y2);\n    let r1 = this.radius;\n    let r2 = other.radius;\n    return dist <= (r1 + r2) + .5;\n  }\n\n  // handleElasticCollision(other) {\n  //   let thisOldX = this.vel[0];\n  //   let thisOldY = this.vel[1];\n  //   let otherOldX = this.vel[0];\n  //   let otherOldY = this.vel[1];\n  //   this.vel[0] = Util.newVel(this.radius, other.radius, thisOldX, otherOldX);\n  //   this.vel[1] = Util.newVel(this.radius, other.radius, thisOldY, otherOldY);\n  //   other.vel[0] = Util.newVel(other.radius, this.radius, otherOldX, thisOldX);\n  //   other.vel[1] = Util.newVel(other.radius, this.radius, otherOldY, thisOldY);\n  // }\n\n  handleElasticCollision(other) {\n    let dx = this.pos[0] - other.pos[0];\n    let dy = this.pos[1] - other.pos[1];\n    let col_angle = Math.atan2(dy, dx);\n    let magnitude_this = Math.sqrt(this.vel[0] * this.vel[0] + this.vel[1] * this.vel[1]);\n    let magnitude_other = Math.sqrt(other.vel[0] * other.vel[0] + other.vel[1] * other.vel[1]);\n    let dir_this = Math.atan2(this.vel[1], this.vel[0]);\n    let dir_other = Math.atan2(other.vel[1], other.vel[0]);\n    let new_xvel_this = magnitude_this*Math.cos(dir_this - col_angle);\n    let new_yvel_this = magnitude_this*Math.sin(dir_this - col_angle);\n    let new_xvel_other = magnitude_other*Math.cos(dir_other - col_angle);\n    let new_yvel_other = magnitude_other*Math.sin(dir_other - col_angle);\n    let final_xvel_this = Util.elasticCollision(this.radius, other.radius, new_xvel_this, new_xvel_other);\n    let final_xvel_other = Util.elasticCollision(other.radius, this.radius, new_xvel_other, new_xvel_this);\n    let final_yvel_this = new_yvel_this;\n    let final_yvel_other = new_yvel_other;\n\n    // let final_yvel_this = Util.elasticCollision(this.radius, other.radius, new_yvel_this, new_yvel_other);\n    // let final_yvel_other = Util.elasticCollision(other.radius, this.radius, new_yvel_other, new_yvel_this);\n    this.vel[0] = Math.cos(col_angle) * final_xvel_this + Math.cos(col_angle + Math.PI/2)*final_yvel_this;\n    this.vel[1] = Math.sin(col_angle) * final_xvel_this + Math.sin(col_angle + Math.PI/2)*final_yvel_this;\n    other.vel[0] = Math.cos(col_angle) * final_xvel_other + Math.cos(col_angle + Math.PI/2)*final_yvel_other;\n    other.vel[1] = Math.sin(col_angle) * final_xvel_other + Math.sin(col_angle + Math.PI/2)*final_yvel_other;\n;  }\n\n  separateObjects(other) {\n    let x1 = this.pos[0];\n    let y1 = this.pos[1];\n    let x2 = other.pos[0];\n    let y2 = other.pos[1];\n    let distBetween = Util.dist(x1, x2, y1, y2);\n    let r1 = this.radius;\n    let r2 = other.radius;\n    let overlapDist = r1 + r2 - distBetween;\n    let dx = (x2 - x1) / overlapDist ;\n    let dy = (y2 - y1) / overlapDist ;\n    this.pos[0] -= (overlapDist/15) * dx;\n    this.pos[1] -= (overlapDist/15) * dy;\n    other.pos[0] += (overlapDist/15) * dx;\n    other.pos[1] += (overlapDist/15) * dy;\n  }\n\n\n}\n\nexport default Mol;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/mol.js","import ColorDropMol from './color_drop_mol';\n\nclass ColorDrop {\n  constructor(X_POS = 250, mols = 5) {\n    this.pos = X_POS,\n    this.mols = mols\n    this.colorDrop = this.createMols();\n  }\n\n  createMols() {\n    let colorDrops = [];\n\n    let newMol = new ColorDropMol();\n    while (colorDrops.length < this.mols) {\n      colorDrops.push(newMol);\n      for (let i = 0; i < colorDrops.length - 1; i++) {\n        if (newMol.isCollidedWith(colorDrops[i])) {\n          colorDrops.pop;\n        }\n      }\n    }\n    return colorDrops;\n  }\n}\n\nexport default ColorDrop;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/color_drop.js","import Util from './util';\nimport Mol from './mol';\n\nconst RADIUS = () => {\n  return 2;\n}\n\nconst VELOCITY = 2;\n\nclass ColorDropMol extends Mol {\n  constructor(options = {}) {\n    options.color = document.getElementById('color').value;\n    options.radius = RADIUS();\n    options.pos = [\n      Math.floor(Math.random() * 5) + 225,\n      0\n    ];\n    options.vel = [\n      0,\n      (-1) * VELOCITY\n    ]\n    super(options)\n  }\n\n}\n\nexport default ColorDropMol;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/color_drop_mol.js"],"sourceRoot":""}